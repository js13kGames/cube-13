!function(){"use strict";let F=16,t=[],o=[],i={a:1,b:0,c:0,d:1,e:0,f:0},e={a:1,b:0,c:0,d:1,e:0,f:8},r={a:0,b:1,c:-1,d:0,e:F,f:0},n={a:-1,b:0,c:0,d:-1,e:F,f:F},f={a:0,b:-1,c:1,d:0,e:0,f:F},a=document,d=devicePixelRatio,l=F=>F.getContext("2d"),c=()=>l(a.createElement("canvas")),s=F=>F.canvas,y=F=>s(F).width,b=F=>s(F).height,A=(F,t)=>s(F).width=t,p=(F,t)=>s(F).height=t,m=()=>performance.now(),u={now:m(),delta:0},D=Math,E=D.floor,X=D.round,G=D.min,w=D.hypot,L=D.abs,x=function(){let F=c();return A(F,240),p(F,240),F}(),M=l(a.getElementById("c"));let h=(F,t)=>F.y+F.z-(t.y+t.z),v=(F,o,e,r)=>{if(r){let n=t[r.id],f=r.t||i;F.setTransform(f.a,f.b,f.c,f.d,f.e+o,f.f+e),F.drawImage(n,0,0)}},N={};function O(F){return!!N[F]}let z=25;let H=(F,t)=>{let o=(F=>w(F.x,F.y))(F);o>0&&(o=t/o,F.x*=o,F.y*=o)},I=[],g=(t,o,i,e)=>{let r=t.x<=o.x+F&&t.y<=o.y+F&&o.x<=t.x+F&&o.y<=t.y+F;if(r){let F=(n=t,{x:(f=o).x-n.x,y:f.y-n.y});H(F,1),L(F.x)>L(F.y)?(t.x-=F.x*i,o.x+=F.x*e):(t.y-=F.y*i,o.y+=F.y*e)}var n,f;return r},k=[9,10,11,12],C=[13,14,15,16],J=[17,18,19,20],K=[21,22,23,24],P={o:0};function R(){(()=>{let F=u.now;u.now=m(),u.delta=(u.now-F)/1e3})(),(()=>{let F=u.delta,t=o.find((F=>0===F.id));if(t){let o,r=((F=0,t=0)=>({x:F,y:t}))();if(O("ArrowLeft")?(o=K,r.x=-1):O("ArrowRight")&&(o=C,r.x=1),O("ArrowUp")?(o=J,r.y=-1):O("ArrowDown")&&(o=k,r.y=1),o){P.o+=10*F;let n=E(P.o%o.length);t.info.front.id=o[n],H(r,30*F),e=r,(i=t).x+=e.x,i.y+=e.y}}var i,e})(),(()=>{let F=I.length,t=20;for(;t--;){let t=0;for(let o=0;o<F;o++){let i=I[o];for(let e=o+1;e<F;e++){let F=I[e],o=!1;i.info.body.static?F.info.body.static||(o=g(i,F,0,1)):o=F.info.body.static?g(i,F,1,0):g(i,F,.5,.5),o&&t++}}if(!t)break}})(),(()=>{let t=y(x),i=b(x),e=s(x);x.clearRect(0,0,t,i),o.sort(h);for(let t of o){let o=X(t.x+0),i=X(t.y+32-t.z),e=t.info;v(x,o,i,e.front),v(x,o,i-F,e.top)}let r=innerWidth*d,n=innerHeight*d;y(M)!=r&&A(M,r),b(M)!=n&&p(M,n);let f=y(M),a=b(M),l=G(f/t,a/i);M.clearRect(0,0,f,a),M.setTransform(l,0,0,l,0,0),M.shadowBlur=0,M.imageSmoothingEnabled=!1,M.drawImage(e,0,0);let c=(m()-u.now).toFixed(),D=(1/u.delta).toFixed();M.shadowBlur=10,M.shadowColor="black",M.fillStyle="white",M.font="arial 20px",M.fillText("FPS "+D+" TIME "+c+" ms",0,20)})(),requestAnimationFrame(R)}function U(){!function(t){t.splice(0,t.length);let o={A:{front:{id:28},top:{id:z},body:{static:!0}},C:{top:{id:26}},K:{top:{id:26,t:r}},D:{top:{id:z,t:f},body:{static:!0}},E:{top:{id:z,t:r},body:{static:!0}},F:{top:{id:6}},G:{top:{id:7}},H:{front:{id:29},top:{id:z,t:f},body:{static:!0}},I:{front:{id:29},top:{id:z,t:r},body:{static:!0}},J:{front:{id:2},top:{id:z}},L:{front:{id:28},top:{id:27},body:{static:!0}},M:{front:{id:29},top:{id:27,t:r},body:{static:!0}},N:{front:{id:30},top:{id:27,t:n},body:{static:!0}},O:{front:{id:31},top:{id:27,t:f},body:{static:!0}},X:{body:{static:!0}}},i=[["               "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFGFFFFFFFFF "," FFFGFFFFFFFFF "," FFFGFFFFFFFFF "],["CAAAAAAJAAAAAAK","D             E","D             E","D             E","D    LMNOL    E","D        L    E","D        O    E","D      LMN    E","DLMNOLMN      E","D             E","D             E","D             E","D             E","H             I"," XXXXXXXXXXXXX "]],a=0;for(let e of i){let i=0,r=0;for(let n of e){for(let e of n){if(" "!==e){let F=o[e];t.push({x:i,y:r,z:a,info:F})}i+=F}i=0,r+=F}a+=F}t.push({x:64,y:137.6,z:F,id:0,info:{body:{},front:{id:14}}}),t.push({x:96,y:176,z:F,info:{body:{},front:{id:0},top:{id:1,t:e}}})}(o),(()=>{I.splice(0,I.length);for(let F of o)F.info.body&&I.push(F)})()}!async function(){await async function(){let F=await fetch("r"),o=await F.arrayBuffer(),i=new Uint8Array(o),e=0,r=4*i[e++],n=i.slice(e,e+r);e+=r;let f=i[e++];for(;f-- >0;){let F=i[e++],o=i[e++],r=F*o,f=i.slice(e,e+r);e+=r;let a=c();A(a,F),p(a,o);let d=a.getImageData(0,0,F,o),l=0;for(let F in f){let t=4*f[F];d.data[l++]=n[t++],d.data[l++]=n[t++],d.data[l++]=n[t++],d.data[l++]=n[t]}a.putImageData(d,0,0),t.push(s(a))}}(),a.onkeydown=F=>{N[F.code]=!0},a.onkeyup=F=>{N[F.code]=void 0},U(),R()}()}();
