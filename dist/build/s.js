!function(){"use strict";let F=document,X="ontouchstart"in window,t=devicePixelRatio,e=F=>F.getContext("2d"),o=()=>e(F.createElement("canvas")),i=F=>F.canvas,W=F=>i(F).width,l=F=>i(F).height,r=(F,X)=>i(F).width=X,f=(F,X)=>i(F).height=X,Y=F=>F.resetTransform(),G=(F,X,t,e)=>F.drawImage(X,t,e),n=F=>{Y(F),F.clearRect(0,0,W(F),l(F))},a=()=>performance.now(),d=F=>JSON.parse(JSON.stringify(F));let s={o:a(),r:0},c=[],u=F=>F*F,b=F=>F<1/2.75?7.5625*F*F:F<2/2.75?7.5625*(F-=1.5/2.75)*F+.75:F<2.5/2.75?7.5625*(F-=2.25/2.75)*F+.9375:7.5625*(F-=2.625/2.75)*F+.984375,P=(F,X,t,e,o,i,W)=>{let l=F[X];c.push({n:F,p:X,m:l,h:t,T:0,k:e,v:o,g:i,V:W})},E=16,y=F=>F.x>0&&F.x<224&&F.y>0&&F.y<224,U=F=>F.z==E&&y(F),p=F=>0==F.z&&y(F),A=(F,X,t,e)=>({$:F,R:X,j:F+t,J:X+e}),S=(F,X,t,e)=>F.$+X.x<t.j+e.x&&F.R+X.y<t.J+e.y&&t.$+e.x<F.j+X.x&&t.R+e.y<F.J+X.y,m=Math,h=m.floor,M=m.round,L=m.min,N=m.max,w=m.hypot,O=m.abs,T=m.random,k=m.atan2,D=m.PI,v=2*D,x=(F,X,t)=>L(X,N(F,t)),g=(F,X)=>((F,X,t)=>F+t*(X-F))(F,X,T());let V=(F=0,X=0)=>({x:F,y:X}),I=(F,X)=>({x:X.x-F.x,y:X.y-F.y}),$=F=>w(F.x,F.y),C=(F,X)=>{let t=$(F);t>0&&(t=X/t,F.x*=t,F.y*=t)},H=[],R=F=>H.find((X=>X.q.id===F)),z=F=>H.filter((X=>X.q.id===F)),K=F=>H.splice(H.indexOf(F),1),j=86,J=101,q={a:1,b:0,c:0,d:1,e:0,f:0},B={a:0,b:1,c:-1,d:0,e:E,f:0},Q={a:-1,b:0,c:0,d:-1,e:E,f:E},Z={a:0,b:-1,c:1,d:0,e:0,f:E},_=A(0,0,E,E),FF={B:!0,Q:_},XF={Q:_},tF={A:{Z:{id:97},_:{id:j}},Y:{Z:{id:89},FF:FF},C:{_:{id:87}},K:{_:{id:87,XF:B}},D:{_:{id:j,XF:Z}},E:{_:{id:j,XF:B}},F:{_:{id:12},Z:{id:J}},G:{_:{id:13},Z:{id:J}},P:{_:{id:14},Z:{id:J},id:9},S:{_:{id:17},Z:{id:J}},W:{Z:{id:J}},U:{Z:{id:100},FF:FF},H:{Z:{id:100},_:{id:j,XF:Z}},I:{Z:{id:100},_:{id:j,XF:B}},L:{Z:{id:89},_:{id:88},FF:FF},M:{Z:{id:90},_:{id:88,XF:B},FF:FF},N:{Z:{id:91},_:{id:88,XF:Q},FF:FF},O:{Z:{id:92},_:{id:88,XF:Z},FF:FF},X:{FF:FF},a:{FF:XF,Z:{id:0},_:{id:1},tF:8},b:{FF:XF,Z:{id:2},_:{id:3},tF:8,id:2},c:{FF:XF,Z:{id:4},_:{id:5},tF:8,id:4},f:{FF:XF,Z:{id:6},_:{id:7},tF:8,id:6},u:{FF:{Q:A(3,10,9,7)},Z:{id:74},id:0},s:{_:{id:15},Z:{id:J},id:1},w:{_:{id:18},Z:{id:J},id:3},y:{_:{id:20},Z:{id:J},id:5},l:{Z:{id:60},id:10},i:{Z:{id:61},id:11},t:{Z:{id:98},_:{id:j},id:8},d:{Z:{id:8},_:{id:j},FF:FF,id:7}},eF=[],oF=[],iF=[],WF=!1,lF=()=>{WF=!0},rF=()=>{(()=>{if(WF){WF=!1,eF.splice(0,eF.length),oF.splice(0,oF.length),iF.splice(0,iF.length);for(let F of H)F.q.FF&&eF.push(F),U(F)&&iF.push(F),p(F)&&oF.push(F)}})(),function(){let F=eF.length,X=20;for(;X--;){let X=0;for(let t=0;t<F;t++){let e=eF[t];for(let o=t+1;o<F;o++){let F=eF[o],t=!1;e.q.FF.B?F.q.FF.B||(t=fF(e,F,0,1)):t=F.q.FF.B?fF(e,F,1,0):fF(e,F,.5,.5),t&&X++}}if(!X)break}}(),function(){for(let F of iF)if(F.z==E){let X=F.q.FF?F.q.FF.Q:_,t=!1;for(let e of oF)if(S(X,F,_,e)){t=!0;break}t||nF(F)}}()},fF=(F,X,t,e)=>{let o=S(F.q.FF.Q,F,X.q.FF.Q,X);if(o){let o=I(F,X);C(o,1),O(o.x)>O(o.y)?(F.x-=o.x*t,X.x+=o.x*e,F.y=h(F.y),X.y=h(X.y)):(F.y-=o.y*t,X.y+=o.y*e,F.x=h(F.x),X.x=h(X.x))}return o};let YF,GF=async(F,X)=>{await async function(F){return new Promise((X=>{setTimeout(X,F)}))}(1e3*X),nF(F)},nF=F=>{F.z-=1,delete F.q.FF,lF(),P(F,"z",F.z-96,0,.5,u,(()=>K(F)))},aF=1*(Math.exp(.5)-1);function dF(F,X){let t=function(F){let X=0,t=F[5],e=Math.abs(F[6]),o=F[6]>0,i=F[7],W=F[8],l=F[13],r=F[14],f=F[11],Y=F[12],G=t,n=i,a=l,d=r,s=Y,c=F[0],u=F[18],b=.1!==u,P=F[19],E=F[20],y=F[21],U=F[22],p=F[10],A=F[9],S=[F[1],F[2],F[4]],m=F[3],h=F[16],M=F[17],L=F[15],N=0,w=0,O=0,T=new Float32Array(32);for(let F=0;F<32;++F)T[F]=2*Math.random()-1;let k=0,D=0,v=0,x=0,g=0,V=new Float32Array(1024);for(let F=0;F<1024;++F)V[F]=0;let I=[];for(let F=0;0!==L&&++X>=L&&(G=t,n=i,a=l,d=r,s=Y),0!==s&&F>=s&&(s=0,G*=f),n+=W,G*=n,!(G>e&&(G=e,o));++F){let F=G;A>0&&(v+=p,F=G*(1+Math.sin(v)*A));let X=Math.floor(F);if(X<8&&(X=8),a+=d,a<0&&(a=0),a>.5&&(a=.5),++D>S[k]&&(D=0,++k>2))break;let t,e=D/S[k];t=0===k?e:1===k?1+2*(1-e)*m:1-e,h+=M;let o=Math.abs(Math.floor(h));o>1023&&(o=1023),0!==U&&(y*=U,y<1e-5&&(y=1e-5),y>.1&&(y=.1));let i=0;for(let F=0;F<8;++F){let F=0;if(++x,x>=X&&(x%=X,3===c))for(let F=0;F<32;++F)T[F]=2*Math.random()-1;let e=x/X;0===c?F=e<a?.5:-.5:1===c?F=e<a?2*e/a-1:1-2*(e-a)/(1-a):2===c?F=Math.sin(2*e*Math.PI):3===c&&(F=T[32*x/X|0]);let W=N;u*=P,u<0&&(u=0),u>.1&&(u=.1),b?(w+=(F-N)*u,w-=w*E):(N=F,w=0),N+=w,O+=N-W,O-=O*y,F=O,V[1023&g]=F,F+=V[g-o+1024&1023],g=g+1&1023,i+=F*t}I.push(i*aF/8)}return new Float32Array(I)}(X),e=F.createBuffer(1,t.length,44100);return e.copyToChannel(t,0,0),e}let sF=[],cF=[];function uF(){YF||(YF=new AudioContext)}function bF(F,X=1){if(YF){cF[F]||(cF[F]=dF(YF,new Float32Array(sF[F])));let t=YF.createBufferSource();t.buffer=cF[F];let e=YF.createGain();e.gain.value=.5*X,t.connect(e),e.connect(YF.destination),t.start()}}X||uF();let PF,EF={eF:!1,oF:0},yF=[8,9,10,11],UF=(F,X,t,e)=>{let o=R(X);if(o&&(F.push(o),o.q.FF)){let F=R(t);F&&(r=F,w((l=o).x-r.x,l.y-r.y)<2&&(i=F,(W=o).x=i.x,W.y=i.y,delete o.q.FF,lF(),P(o,"z",8,0,.4,b,(()=>{F.q._.id=e,K(o),bF(1)}))))}var i,W,l,r},pF=["CAAAAAAtAAAAAAK","D             E","D             E","D             E","D             E","D             E","D             E","D             E","D             E","D             E","D             E","D             E","D             E","H             I"],AF=[[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFyFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFwF "," FFFFFFFFFFFsF "," F FGFFFFFPFFF "," F    FPFFF  F "," FF   FFF   FF ","WFFFGFFFFF    W"],[" YYYYYYdYYYYYY ","X         N   X","X         L   X","X     lLNOM   X","Xi     M      X","X      O  f   X","X             X","X     aaaa    X","X     a c     X","X     a   b   X","X     a       X","X     a       X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X        NaLMNX","X        M    X","X        L    X","X        O    X","X      LMN    X","XLMNaLMN      X","X         b   X","X             X","X    aa       X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFGFFFF "," FFFGFGFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFGGFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," FFFFGGFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X          b  X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FGFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFGFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," FFFFFFGGGFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," GFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFG "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFG ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," GFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," GFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," GFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],pF]],SF=[],mF={},hF=(F,X)=>{if(void 0===X||1===X)return SF[F];{let t=mF[F];t||(mF[F]={},t=mF[F]);let e=h(16*X),o=t[e];return o||(t[e]=LF(F,(F=>{F[0]=F[0]*X,F[1]=F[1]*X,F[2]=F[2]*X})),o=t[e]),o}},MF=(F,X)=>{if(0==X)return SF[F];{let t=mF[F];t||(mF[F]={},t=mF[F]);let e=t[X];if(!e){let o=X>>16&255,i=X>>8&255,W=255&X;t[X]=LF(F,(F=>{F[0]=o,F[1]=i,F[2]=W})),e=t[X]}return e}},LF=(F,X)=>{let t=e(SF[F]),Y=W(t),G=l(t),n=o();r(n,Y),f(n,G);let a=t.getImageData(0,0,Y,G),d=n.getImageData(0,0,Y,G),s=a.data,c=d.data,u=0;for(;u<s.length;){let F=s.slice(u,u+4);X(F),c.set(F,u),u+=4}return n.putImageData(d,0,0),i(n)},NF=[],wF=()=>{for(let F of H)if(U(F)){let X=F.q;if(X.Z)for(let F=0;F<16;F++){let t={id:X.Z.id,brightness:F/16,run(){hF(this.id,this.brightness)}};NF.push(t)}}},OF=0,TF=V(),kF=e(F.getElementById("c")),DF=0,vF=0,xF=1,gF={},VF=!1,IF=!1,$F={},CF=F=>gF[F],HF=F=>delete gF[F],RF=[],zF={Z:{id:62},id:12},KF=[62,63,64,65],jF={$:0,R:7,j:E,J:9},JF=0,qF=(F,X)=>{11==F&&console.log();let t=z(F);for(let F of t)if(F){void 0===F.q.laserId&&(F.q.laserId=RF.length,RF.push([]));let t=RF[F.q.laserId];for(;t.length<13;){let X={x:F.x,y:F.y-1,z:F.z-1,q:d(zF)};t.push(X)}let e=t[0];e.x=F.x,BF(e,X);let o=e.x;for(let e of t){e.x=o;let t=X<0?o<F.x+E:o>F.x-E;o-=E*X,t?H.includes(e)||H.push(e):H.includes(e)&&K(e)}}},BF=(F,X)=>{let t=208;for(;t--&&(F.x+=X,!QF(F)););},QF=F=>{for(let X of eF)if(X.q.FF&&S(jF,F,X.q.FF.Q,X))return!0;return!1},ZF=[66,67,68,69],_F=[70,71,72,73],FX=[74,75,76,77],XX=[78,79,80,81],tX=[82,83],eX=[84,85],oX={oF:0,deadTime:0},iX=()=>{let F=s.r,X=R(0);if(X)if(oX.deadTime>0){let t=tX;oX.oF+=10*F;let e=h(oX.oF%t.length);X.q.Z.id=t[e]}else if(X.z<E){let t=eX;oX.oF+=10*F;let e=h(oX.oF%t.length);X.q.Z.id=t[e]}else{let i=V();if(CF(37)||CF(65)?i.x=-1:(CF(39)||CF(68))&&(i.x=1),CF(38)||CF(87)?i.y=-1:(CF(40)||CF(83))&&(i.y=1),PF){let F=I(PF.iF,PF.WF),X=k((o=F).y,o.x);X<0&&(X+=v);let t=h((X+D/8)/(D/4));i=0==t?V(1,0):1==t?V(1,1):2==t?V(0,1):3==t?V(-1,1):4==t?V(-1,0):5==t?V(-1,-1):6==t?V(0,-1):V(1,7==t?-1:0)}if($(i)>0){let o=ZF;i.x<0?o=XX:i.x>0&&(o=_F),i.y<0?o=FX:i.y>0&&(o=ZF),oX.oF+=10*F;let W=h(oX.oF%o.length);X.q.Z.id=o[W],C(i,30*F),e=i,(t=X).x+=e.x,t.y+=e.y}}var t,e,o},WX={lF:0,rF:0,T:0,fF:0},lX=()=>{WX.T=130,(F=>{let X=AF[F];H.splice(0,H.length);let t=0;for(let F of X){let X=0,e=0;for(let o of F){for(let F of o){if(" "!==F){let o=d(tF[F]);H.push({x:X,y:e,z:t,q:o})}X+=E}X=0,e+=E}t+=E}})(WX.lF),lF(),EF.eF=!1,EF.oF=0,oX.oF=0,oX.deadTime=0,wF()},rX=()=>{oX.deadTime>=1&&(WX.fF--,async function(){WX.rF=WX.fF>0?3:4}())},fX=()=>{if(WX.T<=0)return;let F=h(WX.T);WX.T-=s.r;let X=h(WX.T);if(F!=X&&X<=13){let F=5;bF(6,.1+.5*x(0,1,(X-F)/(0-F)))}WX.T<=0&&((async()=>{for(let F of H)p(F)&&GF(F,g(0,1))})(),bF(3),OF=.5)};let YX=(()=>{let F=[];return F[47]=-1,F.push(22,23,24,25,26,27,28,29,30,31),F[64]=-1,F.push(32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57),F})(),GX=F=>YX[F],nX=F=>`rgba(${F>>16&255},${F>>8&255},${255&F},${(F>>24&255)/255})`,aX=o(),dX=(F,X)=>F.y+F.z-X.y-X.z,sX=()=>{r(kF,DF),f(kF,vF);let F=h(DF/xF),X=h(vF/xF);r(aX,F),f(aX,X),n(aX);let t=h((F-240)/2);switch(function(F,X){let t=TF.x+F,e=TF.y+X;H.sort(dX),UX();for(let F of H){let X=h(t+F.x),o=h(e+F.y-F.z),i=F.q,W=i.tF||E;yX(aX,X,o,i.Z),yX(aX,X,o-W,i._)}}(t,64),uX(t),PF&&(EX(aX,PF.iF.x/xF,PF.iF.y/xF,30,1442840575),EX(aX,PF.WF.x/xF,PF.WF.y/xF,10,2583691263)),WX.rF){case 0:pX(4278190080,["CUBE 13",cX]);break;case 3:pX(3144024064,["LEVEL FAIL","TRY AGAIN",cX]);break;case 2:pX(3137365504,["LEVEL PASSED",`NEXT LEVEL ${WX.lF+2}`,`TOTAL LEVELS ${AF.length}`,cX]);break;case 4:pX(3140681728,["GAME OVER",cX]);break;case 5:pX(3137378560,["CONGRATULATIONS",cX])}bX(X),n(kF),kF.setTransform(xF,0,0,xF,0,0),kF.imageSmoothingEnabled=!1,G(kF,i(aX),0,0)},cX=X?"TAP TO CONTINUE":"PRESS ANY KEY TO CONTINUE";let uX=(F,X)=>{Y(aX);for(let X=0;X<WX.fF;X++)G(aX,SF[58],F+1+8*X,10);PX(aX,F,1,"LIVES "+WX.fF,16721408);let t=M(WX.T),e=L(M(WX.T),13);for(let X=0;X<e;X++)G(aX,SF[59],F+224+8-8*X,10);let o=N(0,t)+" TIME";PX(aX,F+240-1-8*o.length,1,o,38655);let i="LEVEL "+(WX.lF+1);PX(aX,h(F+(240-8*i.length)/2),1,i,16777215)},bX=F=>{{let X=(a()-s.o).toFixed(),t=(1/s.r).toFixed(),e="";PX(aX,1,F-9,`FPS ${t} TIME ${X} TASK ${NF.length} ${e}`,16777215)}},PX=(F,X,t,e,o)=>{Y(F);for(let i=0;i<e.length;i++){let W=e.charCodeAt(i),l=GX(W);if(void 0!==l){let e=MF(l,o);G(F,e,X+8*i,t)}}},EX=(F,X,t,e,o)=>{Y(F),F.beginPath(),F.arc(h(X),h(t),h(e),0,v,!1),F.lineWidth=2,F.strokeStyle=nX(o),F.stroke()},yX=(F,X,t,e)=>{if(e){let o=hF(e.id,e.brigthness),i=e.XF||q;F.setTransform(i.a,i.b,i.c,i.d,i.e+X,i.f+t),G(F,o,0,0)}},UX=()=>{for(let F of H){let X=x(0,1,(F.z- -32)/32),t=F.q;t.Z&&(t.Z.brigthness=X),t._&&(t._.brigthness=X)}};function pX(F,X){let t=W(aX),e=l(aX);Y(aX),aX.fillStyle=nX(F),aX.fillRect(0,0,t,e);let o=8*(3*X.length-2),i=8*X.reduce(((F,X)=>N(F,X.length)),0),r=0+(t-i)/2,f=0+(e-o)/2;for(let F=0;F<X.length;F++){let t=X[F];PX(aX,h(r+(i-8*t.length)/2),h(f+3*F*8),t,16777215)}}let AX=!1,SX=()=>{if(VF||IF&&!AX)switch(VF=!1,HF(32),WX.rF){case 0:WX.lF=0,WX.fF=AF.length,lX(),WX.rF=1;break;case 3:lX(),WX.rF=1;break;case 2:WX.lF++,lX(),WX.rF=1;break;case 4:case 5:WX.rF=0}AX=IF};function mX(){(()=>{let F=s.o;s.o=a(),s.r=(s.o-F)/1e3})(),DF=innerWidth*t,vF=innerHeight*t,xF=L(DF/240,vF/304),(()=>{if(X)if(PF)if($F[PF.id]){PF.WF=$F[PF.id];let F=I(PF.iF,PF.WF),X=$(F),t=30*xF;X>t&&(C(F,t),PF.WF.x=PF.iF.x+F.x,PF.WF.y=PF.iF.y+F.y)}else PF=void 0;else for(let F in $F){PF={id:F,iF:$F[F],WF:$F[F]};break}})(),1==WX.rF&&(iX(),(()=>{if(qF(10,-1),qF(11,1),JF-=s.r,JF<0){JF=.1;for(let X of RF)for(let t of X)t.q.Z.id=(F=KF)[M(g(0,F.length-1))]}var F})(),(()=>{if(EF.eF)return;let F=[];UF(F,2,1,16),UF(F,4,3,19),UF(F,6,5,21);let X=0;for(let t of F)0==t.z&&X++;if(X==F.length){for(let X of F)delete X.q.id;EF.eF=!0,console.log("door open")}})(),(()=>{let F=R(0),X=z(9);if(F&&F.z==E&&F.q.FF&&X.length){let t=F.q.FF.Q;for(let e of X)0==e.z&&S(t,F,_,e)&&(nF(e),bF(0))}})(),(()=>{if(EF.eF&&EF.oF<yF.length){EF.oF+=5*s.r;let F=h(EF.oF),X=R(7);if(X)if(F<yF.length)X.q.Z.id=yF[F];else{X.q.Z=void 0,X.q.FF=void 0,lF();let F=R(8);F&&(F.q.Z.id=99,bF(2))}}})(),(()=>{let F=R(0),X=R(7);F&&X&&O(F.x-X.x)<8&&F.y<X.y&&(bF(5),WX.lF==AF.length-1?WX.rF=5:WX.rF=2)})(),fX(),(()=>{let F=R(0);if(0==oX.deadTime)if(F){if(F.q.FF){let X=z(12);for(let t of X)S(jF,t,F.q.FF.Q,F)&&(0==oX.deadTime&&bF(4),oX.deadTime+=.001)}}else oX.deadTime=1;else oX.deadTime+=s.r})(),rX()),rF(),OF>0&&(OF-=s.r,TF.x=g(-4,4),TF.y=g(-4,4),OF<=0&&(TF.x=0,TF.y=0)),SX(),(()=>{let F=a();for(;NF.length&&(NF.shift().run(),!(a()-F>1)););})(),(()=>{let F=s.r;c=c.filter((X=>{if(X.k>0)return X.k-=F,!0;{X.T+=F;const{n:t,p:e,m:o,h:i,v:W,g:l,V:r}=X;if(X.T>W)return t[e]=i,r&&r(),!1;{let F=l(X.T/W);return t[e]=o+(i-o)*F,!0}}}))})(),sX(),requestAnimationFrame(mX)}!async function(){await async function(){let F=await fetch("r"),X=await F.arrayBuffer(),t=new Uint8Array(X),e=0,W=4*t[e++],l=t.slice(e,e+W);e+=W;let Y=t[e++];for(;Y--;){let F=t[e++],X=t[e++],W=F*X,Y=t.slice(e,e+W);e+=W;let G=o();r(G,F),f(G,X);let n=G.getImageData(0,0,F,X);for(let F=0;F<Y.length;F++){let X=Y[F]<<2;n.data.set(l.slice(X,X+4),F<<2)}G.putImageData(n,0,0),SF.push(i(G))}let G=t[e++];for(;G--;){let F=t[e++];sF.push(X.slice(e,e+F)),e+=F}}(),(()=>{F.onkeydown=F=>{IF=!0,gF[F.keyCode]=!0},F.onkeyup=F=>{IF=!1,HF(F.keyCode)};let e=i(kF);if(X){let F=(F,X)=>{let e=F.changedTouches;for(let F=0;F<e.length;F++){const{clientX:o,clientY:i,identifier:W}=e[F];X(W,V(o*t,i*t))}},X=X=>F(X,((F,X)=>{$F[F]=X})),o=X=>F(X,((F,X)=>{delete $F[F]}));e.ontouchstart=X,e.ontouchmove=X,e.ontouchend=o,e.ontouchcancel=o}e.onclick=()=>{VF=!0,uF()}})(),mX()}()}();
