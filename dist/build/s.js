!function(){"use strict";let F=document,X="ontouchstart"in window,t=devicePixelRatio,e=F=>F.getContext("2d"),o=()=>e(F.createElement("canvas")),i=F=>F.canvas,W=F=>i(F).width,l=F=>i(F).height,f=(F,X)=>i(F).width=X,r=(F,X)=>i(F).height=X,Y=F=>F.resetTransform(),G=(F,X,t,e)=>F.drawImage(X,t,e),n=F=>{Y(F),F.clearRect(0,0,W(F),l(F))},d=()=>performance.now(),a=F=>JSON.parse(JSON.stringify(F));let s={o:d(),r:0},c=[],u=F=>F*F,b=F=>F<1/2.75?7.5625*F*F:F<2/2.75?7.5625*(F-=1.5/2.75)*F+.75:F<2.5/2.75?7.5625*(F-=2.25/2.75)*F+.9375:7.5625*(F-=2.625/2.75)*F+.984375,P=(F,X,t,e,o,i,W)=>{let l=F[X];c.push({n:F,p:X,m:l,h:t,v:0,T:e,k:o,g:i,V:W})},E=16,p=F=>F.x>0&&F.x<224&&F.y>0&&F.y<224,y=F=>F.z==E&&p(F),U=F=>0==F.z&&p(F),A=(F,X,t,e)=>({$:F,R:X,j:F+t,J:X+e}),S=(F,X,t,e)=>F.$+X.x<t.j+e.x&&F.R+X.y<t.J+e.y&&t.$+e.x<F.j+X.x&&t.R+e.y<F.J+X.y,m=Math,h=m.floor,M=m.round,L=m.min,N=m.max,w=m.hypot,v=m.abs,O=m.random,T=m.atan2,k=m.PI,D=2*k,x=(F,X,t)=>L(X,N(F,t)),g=(F,X)=>((F,X,t)=>F+t*(X-F))(F,X,O());let V,I=(F=0,X=0)=>({x:F,y:X}),$=(F,X)=>({x:X.x-F.x,y:X.y-F.y}),C=(F,X)=>w(F.x-X.x,F.y-X.y),H=F=>w(F.x,F.y),R=(F,X)=>{let t=H(F);t>0&&(t=X/t,F.x*=t,F.y*=t)},z=[],K=F=>z.find((X=>X.q.id===F)),Q=F=>z.filter((X=>X.q.id===F)),Z=F=>z.splice(z.indexOf(F),1),j=90,J=105,q={a:1,b:0,c:0,d:1,e:0,f:0},B={a:0,b:1,c:-1,d:0,e:E,f:0},_={a:-1,b:0,c:0,d:-1,e:E,f:E},FF={a:0,b:-1,c:1,d:0,e:0,f:E},XF=A(0,0,E,E),tF={B:!0,_:XF},eF={_:XF},oF={A:{FF:{id:101},XF:{id:j}},Y:{FF:{id:93},tF:tF},C:{XF:{id:91}},K:{XF:{id:91,eF:B}},D:{XF:{id:j,eF:FF}},E:{XF:{id:j,eF:B}},F:{XF:{id:12},FF:{id:J}},G:{XF:{id:13},FF:{id:J}},P:{XF:{id:14},FF:{id:J},id:9},S:{XF:{id:17},FF:{id:J}},W:{FF:{id:J}},Z:{XF:{id:22},FF:{id:J},id:13},Q:{XF:{id:23},FF:{id:J},id:14},U:{FF:{id:104},tF:tF},H:{FF:{id:104},XF:{id:j,eF:FF}},I:{FF:{id:104},XF:{id:j,eF:B}},L:{FF:{id:93},XF:{id:92},tF:tF},M:{FF:{id:94},XF:{id:92,eF:B},tF:tF},N:{FF:{id:95},XF:{id:92,eF:_},tF:tF},O:{FF:{id:96},XF:{id:92,eF:FF},tF:tF},X:{tF:tF},a:{tF:eF,FF:{id:0},XF:{id:1},oF:8},b:{tF:eF,FF:{id:2},XF:{id:3},oF:8,id:2},c:{tF:eF,FF:{id:4},XF:{id:5},oF:8,id:4},f:{tF:eF,FF:{id:6},XF:{id:7},oF:8,id:6},u:{tF:{_:A(3,10,9,7)},FF:{id:76},id:0},s:{XF:{id:15},FF:{id:J},id:1},w:{XF:{id:18},FF:{id:J},id:3},y:{XF:{id:20},FF:{id:J},id:5},l:{FF:{id:62},id:10},i:{FF:{id:63},id:11},t:{FF:{id:102},XF:{id:j},id:8},d:{FF:{id:8},XF:{id:j},tF:tF,id:7}},iF=1*(Math.exp(.5)-1);function WF(F,X){let t=function(F){let X=0,t=F[5],e=Math.abs(F[6]),o=F[6]>0,i=F[7],W=F[8],l=F[13],f=F[14],r=F[11],Y=F[12],G=t,n=i,d=l,a=f,s=Y,c=F[0],u=F[18],b=.1!==u,P=F[19],E=F[20],p=F[21],y=F[22],U=F[10],A=F[9],S=[F[1],F[2],F[4]],m=F[3],h=F[16],M=F[17],L=F[15],N=0,w=0,v=0,O=new Float32Array(32);for(let F=0;F<32;++F)O[F]=2*Math.random()-1;let T=0,k=0,D=0,x=0,g=0,V=new Float32Array(1024);for(let F=0;F<1024;++F)V[F]=0;let I=[];for(let F=0;0!==L&&++X>=L&&(G=t,n=i,d=l,a=f,s=Y),0!==s&&F>=s&&(s=0,G*=r),n+=W,G*=n,!(G>e&&(G=e,o));++F){let F=G;A>0&&(D+=U,F=G*(1+Math.sin(D)*A));let X=Math.floor(F);if(X<8&&(X=8),d+=a,d<0&&(d=0),d>.5&&(d=.5),++k>S[T]&&(k=0,++T>2))break;let t,e=k/S[T];t=0===T?e:1===T?1+2*(1-e)*m:1-e,h+=M;let o=Math.abs(Math.floor(h));o>1023&&(o=1023),0!==y&&(p*=y,p<1e-5&&(p=1e-5),p>.1&&(p=.1));let i=0;for(let F=0;F<8;++F){let F=0;if(++x,x>=X&&(x%=X,3===c))for(let F=0;F<32;++F)O[F]=2*Math.random()-1;let e=x/X;0===c?F=e<d?.5:-.5:1===c?F=e<d?2*e/d-1:1-2*(e-d)/(1-d):2===c?F=Math.sin(2*e*Math.PI):3===c&&(F=O[32*x/X|0]);let W=N;u*=P,u<0&&(u=0),u>.1&&(u=.1),b?(w+=(F-N)*u,w-=w*E):(N=F,w=0),N+=w,v+=N-W,v-=v*p,F=v,V[1023&g]=F,F+=V[g-o+1024&1023],g=g+1&1023,i+=F*t}I.push(i*iF/8)}return new Float32Array(I)}(X),e=F.createBuffer(1,t.length,44100);return e.copyToChannel(t,0,0),e}let lF=[],fF=[];function rF(){V||(V=new AudioContext)}function YF(F,X=1){if(V){fF[F]||(fF[F]=WF(V,new Float32Array(lF[F])));let t=V.createBufferSource();t.buffer=fF[F];let e=V.createGain();e.gain.value=.5*X,t.connect(e),e.connect(V.destination),t.start()}}X||rF();let GF=[],nF=[],dF=[],aF=!1,sF=()=>{aF=!0},cF=()=>{(()=>{if(aF){aF=!1,GF.splice(0,GF.length),nF.splice(0,nF.length),dF.splice(0,dF.length);for(let F of z)F.q.tF&&GF.push(F),y(F)&&dF.push(F),U(F)&&nF.push(F)}})(),function(){let F=GF.length,X=20;for(;X--;){let X=0;for(let t=0;t<F;t++){let e=GF[t];for(let o=t+1;o<F;o++){let F=GF[o],t=!1;e.q.tF.B?F.q.tF.B||(t=uF(e,F,0,1)):t=F.q.tF.B?uF(e,F,1,0):uF(e,F,.5,.5),t&&X++}}if(!X)break}}(),function(){for(let F of dF)if(F.z==E){let X=F.q.tF?F.q.tF._:XF,t=!1;for(let e of nF)if(S(X,F,XF,e)){t=!0;break}t||EF(F)}}()},uF=(F,X,t,e)=>{let o=S(F.q.tF._,F,X.q.tF._,X);if(o){let o=$(F,X);R(o,1),v(o.x)>v(o.y)?(F.x-=o.x*t,X.x+=o.x*e,F.y=h(F.y),X.y=h(X.y)):(F.y-=o.y*t,X.y+=o.y*e,F.x=h(F.x),X.x=h(X.x))}return o};let bF,PF=async(F,X)=>{await async function(F){return new Promise((X=>{setTimeout(X,F)}))}(1e3*X),EF(F)},EF=F=>{F.z-=1,delete F.q.tF,sF(),P(F,"z",F.z-96,0,.5,u,(()=>Z(F))),0===F.q.id&&YF(7,.7)},pF={iF:!1,WF:0},yF=[8,9,10,11],UF=(F,X,t,e)=>{let o=K(X);if(o&&(F.push(o),o.q.tF)){let F=K(t);F&&C(o,F)<3&&(i=F,(W=o).x=i.x,W.y=i.y,delete o.q.tF,sF(),P(o,"z",8,0,.4,b,(()=>{F.q.XF.id=e,Z(o),YF(2)})))}var i,W},AF=["CAAAAAAtAAAAAAK","D             E","D             E","D             E","D             E","D             E","D             E","D             E","D             E","D             E","D             E","D             E","D             E","H             I"],SF=[[[" WWWWWWSWWWWWW "," FFZFFFFFQFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFyFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFwF "," FFFFFFFFFFFsF "," F FGFFFFFPFFZ "," F    FPFFF  F "," FF   FFF   FF ","WFQFGFFFFF    W"],[" YYYYYYdYYYYYY ","X         N   X","X         L   X","X     lLNOM   X","Xi     M      X","X      O  f   X","X             X","X     aaaa    X","X     a c     X","X     a   b   X","X     a       X","X     a       X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X        NaLMNX","X        M    X","X        L    X","X        O    X","X      LMN    X","XLMNaLMN      X","X         b   X","X             X","X    aa       X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFGFFFF "," FFFGFGFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFGGFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," FFFFGGFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X          b  X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FGFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFGFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," FFFFFFGGGFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," GFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFG "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFG ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," GFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," GFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF],[[" WWWWWWSWWWWWW "," FFFFFFFFFFFFF "," FFPFFFFFFFFFF "," GFFFFFGGGFFFF "," FFFFFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFGGGFFFF "," FFFFFFFFFFFsF "," FFFGFFFFFFFFF "," FFFGFFFPFFFFF "," FFFGFFFFFFFFF ","WFFFGFFFFFFPFFW"],[" YYYYYYdYYYYYY ","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X             X","X         b   X","X             X","X             X","X             X","U      u      U"," XXXXXXXXXXXXX "],AF]],mF=[],hF={},MF=(F,X)=>{if(void 0===X||1===X)return mF[F];{let t=hF[F];t||(hF[F]={},t=hF[F]);let e=h(16*X),o=t[e];return o||(t[e]=NF(F,(F=>{F[0]=F[0]*X,F[1]=F[1]*X,F[2]=F[2]*X})),o=t[e]),o}},LF=(F,X)=>{if(0==X)return mF[F];{let t=hF[F];t||(hF[F]={},t=hF[F]);let e=t[X];if(!e){let o=X>>16&255,i=X>>8&255,W=255&X;t[X]=NF(F,(F=>{F[0]=o,F[1]=i,F[2]=W})),e=t[X]}return e}},NF=(F,X)=>{let t=e(mF[F]),Y=W(t),G=l(t),n=o();f(n,Y),r(n,G);let d=t.getImageData(0,0,Y,G),a=n.getImageData(0,0,Y,G),s=d.data,c=a.data,u=0;for(;u<s.length;){let F=s.slice(u,u+4);X(F),c.set(F,u),u+=4}return n.putImageData(a,0,0),i(n)},wF=[],vF=()=>{for(let F of z)if(y(F)){let X=F.q;if(X.FF)for(let F=0;F<16;F++){let t={id:X.FF.id,brightness:F/16,run(){MF(this.id,this.brightness)}};wF.push(t)}}},OF=0,TF=I(),kF=e(F.getElementById("c")),DF=0,xF=0,gF=1,VF={},IF=!1,$F=!1,CF={},HF=F=>VF[F],RF=F=>delete VF[F],zF=[],KF={FF:{id:64},id:12},QF=[64,65,66,67],ZF={$:0,R:7,j:E,J:9},jF=0;let JF=(F,X)=>{11==F&&console.log();let t=Q(F);for(let F of t)if(F){void 0===F.q.laserId&&(F.q.laserId=zF.length,zF.push([]));let t=zF[F.q.laserId];for(;t.length<13;){let X={x:F.x,y:F.y-1,z:F.z-1,q:a(KF)};t.push(X)}let e=t[0];e.x=F.x,qF(e,X);let o=e.x;for(let e of t){e.x=o;let t=X<0?o<F.x+E:o>F.x-E;o-=E*X,t?z.includes(e)||z.push(e):z.includes(e)&&Z(e)}}},qF=(F,X)=>{let t=208;for(;t--&&(F.x+=X,!BF(F)););},BF=F=>{for(let X of GF)if(X.q.tF&&S(ZF,F,X.q.tF._,X))return!0;return!1},_F=[68,69,70,71],FX=[72,73,74,75],XX=[76,77,78,79],tX=[80,81,82,83],eX=[84,85],oX=[86,87],iX=[88,89],WX={WF:0,deadTime:0},lX=()=>{let F=s.r,X=K(0);if(X)if(WX.deadTime>0)fX(X,eX);else if(X.z<E){fX(X,XX.includes(X.q.FF.id)||iX.includes(X.q.FF.id)?iX:oX)}else{let i=I();if(HF(37)||HF(65)?i.x=-1:(HF(39)||HF(68))&&(i.x=1),HF(38)||HF(87)?i.y=-1:(HF(40)||HF(83))&&(i.y=1),bF){let F=$(bF.lF,bF.fF),X=T((o=F).y,o.x);X<0&&(X+=D);let t=h((X+k/8)/(k/4));i=0==t?I(1,0):1==t?I(1,1):2==t?I(0,1):3==t?I(-1,1):4==t?I(-1,0):5==t?I(-1,-1):6==t?I(0,-1):I(1,7==t?-1:0)}if(H(i)>0){let o=_F;i.x<0?o=tX:i.x>0&&(o=FX),i.y<0?o=XX:i.y>0&&(o=_F),fX(X,o),R(i,30*F),e=i,(t=X).x+=e.x,t.y+=e.y}}var t,e,o};function fX(F,X){WX.WF+=10*s.r;let t=h(WX.WF%X.length);F.q.FF.id=X[t]}let rX={rF:0,YF:0,v:0,GF:0},YX=()=>{rX.v=130,(F=>{let X=SF[F];z.splice(0,z.length);let t=0;for(let F of X){let X=0,e=0;for(let o of F){for(let F of o){if(" "!==F){let o=a(oF[F]);z.push({x:X,y:e,z:t,q:o})}X+=E}X=0,e+=E}t+=E}})(rX.rF),sF(),pF.iF=!1,pF.WF=0,WX.WF=0,WX.deadTime=0,vF()},GX=()=>{WX.deadTime>=1&&(rX.GF--,async function(){rX.YF=rX.GF>0?3:4,YF(5)}())},nX=()=>{if(rX.v<=0)return;let F=h(rX.v);rX.v-=s.r;let X=h(rX.v);if(F!=X&&X<=13){let F=5;YF(9,.1+.5*x(0,1,(X-F)/(0-F)))}rX.v<=0&&((async()=>{for(let F of z)U(F)&&PF(F,g(0,1))})(),YF(4),OF=.5,function(){for(let F=0;F<z.length;F++){let X=z[F];12!==X.q.id&&11!==X.q.id&&10!==X.q.id||(z.splice(F,1),F--)}zF.splice(0,zF.length)}())};let dX=(()=>{let F=[];return F[47]=-1,F.push(24,25,26,27,28,29,30,31,32,33),F[64]=-1,F.push(34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59),F})(),aX=F=>dX[F],sX=F=>`rgba(${F>>16&255},${F>>8&255},${255&F},${(F>>24&255)/255})`,cX=o(),uX=(F,X)=>F.y+F.z-X.y-X.z,bX=()=>{f(kF,DF),r(kF,xF);let F=h(DF/gF),X=h(xF/gF);f(cX,F),r(cX,X),n(cX);let t=h((F-240)/2);switch(function(F,X){let t=TF.x+F,e=TF.y+X;z.sort(uX),SX();for(let F of z){let X=h(t+F.x),o=h(e+F.y-F.z),i=F.q,W=i.oF||E;AX(cX,X,o,i.FF),AX(cX,X,o-W,i.XF)}}(t,64),EX(t),bF&&(UX(cX,bF.lF.x/gF,bF.lF.y/gF,30,1442840575),UX(cX,bF.fF.x/gF,bF.fF.y/gF,10,2583691263)),rX.YF){case 0:mX(4278190080,["CUBE 13",PX]);break;case 3:mX(3144024064,["LEVEL FAIL","TRY AGAIN",PX]);break;case 2:mX(3137365504,["LEVEL PASSED",`NEXT LEVEL ${rX.rF+2}`,`TOTAL LEVELS ${SF.length}`,PX]);break;case 4:mX(3140681728,["GAME OVER",PX]);break;case 5:mX(3137378560,["CONGRATULATIONS",PX])}pX(X),n(kF),kF.setTransform(gF,0,0,gF,0,0),kF.imageSmoothingEnabled=!1,G(kF,i(cX),0,0)},PX=X?"TAP TO CONTINUE":"PRESS ANY KEY TO CONTINUE";let EX=(F,X)=>{Y(cX);for(let X=0;X<rX.GF;X++)G(cX,mF[60],F+1+8*X,10);yX(cX,F,1,"LIVES "+rX.GF,16721408);let t=M(rX.v),e=L(M(rX.v),13);for(let X=0;X<e;X++)G(cX,mF[61],F+224+8-8*X,10);let o=N(0,t)+" TIME";yX(cX,F+240-1-8*o.length,1,o,38655);let i="LEVEL "+(rX.rF+1);yX(cX,h(F+(240-8*i.length)/2),1,i,16777215)},pX=F=>{{let X=(d()-s.o).toFixed(),t=(1/s.r).toFixed(),e="";yX(cX,1,F-9,`FPS ${t} TIME ${X} TASK ${wF.length} ${e}`,16777215)}},yX=(F,X,t,e,o)=>{Y(F);for(let i=0;i<e.length;i++){let W=e.charCodeAt(i),l=aX(W);if(void 0!==l){let e=LF(l,o);G(F,e,X+8*i,t)}}},UX=(F,X,t,e,o)=>{Y(F),F.beginPath(),F.arc(h(X),h(t),h(e),0,D,!1),F.lineWidth=2,F.strokeStyle=sX(o),F.stroke()},AX=(F,X,t,e)=>{if(e){let o=MF(e.id,e.brigthness),i=e.eF||q;F.setTransform(i.a,i.b,i.c,i.d,i.e+X,i.f+t),void 0!==e.alpha&&(F.globalAlpha=e.alpha),G(F,o,0,0),F.globalAlpha=1}},SX=()=>{for(let F of z){let X=x(0,1,(F.z- -32)/32),t=F.q;t.FF&&(t.FF.brigthness=X),t.XF&&(t.XF.brigthness=X)}};function mX(F,X){let t=W(cX),e=l(cX);Y(cX),cX.fillStyle=sX(F),cX.fillRect(0,0,t,e);let o=8*(3*X.length-2),i=8*X.reduce(((F,X)=>N(F,X.length)),0),f=0+(t-i)/2,r=0+(e-o)/2;for(let F=0;F<X.length;F++){let t=X[F];yX(cX,h(f+(i-8*t.length)/2),h(r+3*F*8),t,16777215)}}let hX,MX=!1,LX=()=>{if(IF||$F&&!MX)switch(IF=!1,RF(32),rX.YF){case 0:rX.rF=0,rX.GF=SF.length,YX(),rX.YF=1;break;case 3:YX(),rX.YF=1;break;case 2:rX.rF++,YX(),rX.YF=1;break;case 4:case 5:rX.YF=0}MX=$F},NX=g(5,10),wX=(F,X)=>{let t=Q(X);2==t.length&&(vX(F,t[0],t[1]),vX(F,t[1],t[0]))},vX=(F,X,t)=>{hX||C(F,X)<8&&(hX=t,F.x=F.x-X.x+t.x,F.y=F.y-X.y+t.y,F.q.FF.alpha=0,YF(8))};function OX(){(()=>{let F=s.o;s.o=d(),s.r=(s.o-F)/1e3})(),DF=innerWidth*t,xF=innerHeight*t,gF=L(DF/240,xF/304),(()=>{if(X)if(bF)if(CF[bF.id]){bF.fF=CF[bF.id];let F=$(bF.lF,bF.fF),X=H(F),t=30*gF;X>t&&(R(F,t),bF.fF.x=bF.lF.x+F.x,bF.fF.y=bF.lF.y+F.y)}else bF=void 0;else for(let F in CF){bF={id:F,lF:CF[F],fF:CF[F]};break}})(),1==rX.YF&&(lX(),(()=>{if(JF(10,-1),JF(11,1),jF-=s.r,jF<0){jF=.1;for(let X of zF)for(let t of X)t.q.FF.id=(F=QF)[M(g(0,F.length-1))]}var F})(),(()=>{if(pF.iF)return;let F=[];UF(F,2,1,16),UF(F,4,3,19),UF(F,6,5,21);let X=0;for(let t of F)0==t.z&&X++;if(X==F.length){for(let X of F)delete X.q.id;pF.iF=!0,console.log("door open")}})(),(()=>{let F=K(0),X=Q(9);if(F&&F.z==E&&F.q.tF&&X.length){let t=F.q.tF._;for(let e of X)0==e.z&&S(t,F,XF,e)&&(EF(e),YF(1))}})(),(()=>{if(pF.iF&&pF.WF<yF.length){pF.WF+=5*s.r;let F=h(pF.WF),X=K(7);if(X)if(F<yF.length)X.q.FF.id=yF[F];else{X.q.FF=void 0,X.q.tF=void 0,sF();let F=K(8);F&&(F.q.FF.id=103,YF(3))}}})(),(()=>{let F=K(0);F&&(F.q.FF&&void 0!==F.q.FF.alpha&&(F.q.FF.alpha+=s.r,F.q.FF.alpha>1&&(F.q.FF.alpha=void 0)),hX?C(hX,F)>E&&(hX=void 0):(wX(F,13),wX(F,14)))})(),(()=>{let F=K(0),X=K(7);F&&X&&v(F.x-X.x)<8&&F.y<X.y&&(YF(10),rX.rF==SF.length-1?rX.YF=5:rX.YF=2)})(),nX(),(()=>{let F=K(0);if(0==WX.deadTime)if(F){if(F.q.tF){let X=Q(12);for(let t of X)S(ZF,t,F.q.tF._,F)&&(0==WX.deadTime&&YF(6),WX.deadTime+=.001)}}else WX.deadTime=1;else WX.deadTime+=s.r})(),GX()),cF(),OF>0&&(OF-=s.r,TF.x=g(-4,4),TF.y=g(-4,4),OF<=0&&(TF.x=0,TF.y=0)),LX(),(()=>{let F=d();for(;wF.length&&(wF.shift().run(),!(d()-F>1)););})(),(()=>{let F=s.r;c=c.filter((X=>{if(X.T>0)return X.T-=F,!0;{X.v+=F;const{n:t,p:e,m:o,h:i,k:W,g:l,V:f}=X;if(X.v>W)return t[e]=i,f&&f(),!1;{let F=l(X.v/W);return t[e]=o+(i-o)*F,!0}}}))})(),NX-=s.r,NX<0&&(NX=g(5,10),YF(0,.2)),bX(),requestAnimationFrame(OX)}!async function(){await async function(){let F=await fetch("r"),X=await F.arrayBuffer(),t=new Uint8Array(X),e=0,W=4*t[e++],l=t.slice(e,e+W);e+=W;let Y=t[e++];for(;Y--;){let F=t[e++],X=t[e++],W=F*X,Y=t.slice(e,e+W);e+=W;let G=o();f(G,F),r(G,X);let n=G.getImageData(0,0,F,X);for(let F=0;F<Y.length;F++){let X=Y[F]<<2;n.data.set(l.slice(X,X+4),F<<2)}G.putImageData(n,0,0),mF.push(i(G))}let G=t[e++];for(;G--;){let F=t[e++];lF.push(X.slice(e,e+F)),e+=F}}(),(()=>{F.onkeydown=F=>{$F=!0,VF[F.keyCode]=!0},F.onkeyup=F=>{$F=!1,RF(F.keyCode)};let e=i(kF);if(X){let F=(F,X)=>{let e=F.changedTouches;for(let F=0;F<e.length;F++){const{clientX:o,clientY:i,identifier:W}=e[F];X(W,I(o*t,i*t))}},X=X=>F(X,((F,X)=>{CF[F]=X})),o=X=>F(X,((F,X)=>{delete CF[F]}));e.ontouchstart=X,e.ontouchmove=X,e.ontouchend=o,e.ontouchcancel=o}e.onclick=()=>{IF=!0,rF()}})(),OX()}()}();
