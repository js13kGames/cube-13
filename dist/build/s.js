!function(){"use strict";const t=16,F=document,n=devicePixelRatio;function e(t){return t.getContext("2d")}function o(){return e(F.createElement("canvas"))}const a=[];function c(t){return a.includes(t)}function i(t=0,F=0){return{x:t,y:F}}function s(t,F){let n=function(t){return Math.hypot(t.x,t.y)}(t);n>0&&(n=F/n,t.x*=n,t.y*=n)}const r=[7,8,9,10],f=[11,12,13,14],l=[15,16,17,18],h=[19,20,21,22],d={frame:0,position:i()};const u=[];let w,g=performance.now();function y(t,F){return t.y+t.z-(F.y+F.z)}function m(){const F=function(){const t=performance.now(),F=t-g;return g=t,F/1e3}(),e=performance.now();!function(t,F){let n=t.stage.cubes.find((t=>0===t.id));if(n){let t;const a=i();if(c("ArrowLeft")?(t=h,a.x=-1):c("ArrowRight")&&(t=f,a.x=1),c("ArrowUp")?(t=l,a.y=-1):c("ArrowDown")&&(t=r,a.y=1),t){d.frame+=10*F;let c=Math.floor(d.frame%t.length);n.t.f=t[c],s(a,30*F),o=a,(e=d.position).x+=o.x,e.y+=o.y,n.x=Math.floor(d.position.x),n.y=Math.floor(d.position.y)}}var e,o}(w,F);const{world:o,screen:a}=w;o.clearRect(0,0,o.canvas.width,o.canvas.height);w.stage.cubes.sort(y);for(let F of w.stage.cubes){const n=F.x+0,e=F.y+32,a=F.z,c=F.t;if(void 0!==c.f){let t=u[c.f];o.drawImage(t,n,e-a)}if(void 0!==c.t){let F=u[c.t];o.drawImage(F,n,e-a-t)}}const x=innerWidth*n,p=innerHeight*n;a.canvas.width!=x&&(a.canvas.width=x),a.canvas.height!=p&&(a.canvas.height=p);const v=Math.min(a.canvas.width/o.canvas.width,a.canvas.height/o.canvas.height);a.clearRect(0,0,a.canvas.width,a.canvas.height),a.setTransform(v,0,0,v,0,0),a.shadowBlur=0,a.imageSmoothingEnabled=!1,a.drawImage(o.canvas,0,0);const L=(performance.now()-e).toFixed(),E=(1/F).toFixed();a.shadowBlur=10,a.shadowColor="black",a.fillStyle="white",a.font="arial 20px",a.fillText("FPS "+E+" TIME "+L+" ms",0,20),requestAnimationFrame(m)}function x(){const F=o();F.canvas.width=240,F.canvas.height=240;const n=e(document.getElementById("c")),a=function(){const F=[];let n={A:{f:33,t:23},B:{f:34,t:24},C:{t:27},K:{t:28},D:{t:25},E:{t:26},F:{t:4},G:{t:5},H:{f:34,t:25},I:{f:34,t:26},J:{f:0,t:23},L:{f:33,t:29},M:{t:6}},e=[["               "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FMFFFFGGGFFFF "," FFFMFFFFFFFFF "," FFFGFFFFFFFFF "," FFFFFFFFFFFFF "," FFFFFFFFFFFFF "," FMFFFFGGGFFFF "," FFFFFFFFFMFFF "," FFFGFFFFFFFFF "," FFFGFFFFFFFFF "," FFFGFFFFFFFFF "," FFFGFFFFFFFFF "],["CAABBABJAABAAAK","D             E","D             E","D             E","D    LLLLL    E","D        L    E","D        L    E","D      LLL    E","DLLLLLLL      E","D             E","D             E","D             E","D             E","H             I"]],o=0;for(const a of e){let e=0,c=0;for(const i of a){for(const a of i){if(" "!==a){let t=n[a];(t.f||t.t)&&F.push({x:e,y:c,z:o,t:t})}e+=t}e=0,c+=t}o+=t}return F.push({x:Math.ceil(73.6),y:Math.ceil(89.6),z:t,t:{f:7}}),F.push({x:64,y:Math.ceil(137.6),z:t,id:0,t:{f:12}}),{cubes:F}}();w={world:F,screen:n,stage:a}}!async function(){await async function(){const t=await fetch("r"),F=await t.arrayBuffer(),n=new Uint8Array(F);let e=0;const o=4*n[e++],a=n.slice(e,e+o);e+=o;let c=n[e++];for(;c-- >0;){const t=n[e++],F=n[e++],o=t*F,c=n.slice(e,e+o);e+=o;let i=document.createElement("canvas");i.width=t,i.height=F;let s=i.getContext("2d"),r=s.getImageData(0,0,t,F),f=0;for(let t in c){let F=4*c[t];r.data[f++]=a[F++],r.data[f++]=a[F++],r.data[f++]=a[F++],r.data[f++]=a[F]}s.putImageData(r,0,0),u.push(i)}}(),F.onkeydown=t=>{a.includes(t.code)||a.push(t.code)},F.onkeyup=t=>{a.includes(t.code)&&a.splice(a.indexOf(t.code),1)},x(),function(t){let F=t.stage.cubes.find((t=>0===t.id));F&&(d.position.x=F.x,d.position.y=F.y)}(w),m()}()}();
